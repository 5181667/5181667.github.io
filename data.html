<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä»£ç æŸ¥è¯¢ç•Œé¢</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .search-box {
      margin-bottom: 20px;
      text-align: center;
    }
    .search-box input {
      padding: 10px;
      width: 100%;
      max-width: 400px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-sizing: border-box;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }
    .search-box input:focus {
      border-color: #5c6bc0;
      outline: none;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    th, td {
      padding: 12px 15px;
      border: 1px solid #ddd;
      text-align: left;
      font-size: 14px;
    }
    th {
      background-color: #f4f4f4;
      color: #333;
    }
    td {
      background-color: #fff;
      color: #666;
    }
    tr:nth-child(even) td {
      background-color: #f9f9f9;
    }
    tr:hover td {
      background-color: #e0e0e0;
    }
    @media (max-width: 768px) {
      .search-box input {
        width: 90%;
      }
      table {
        font-size: 12px;
      }
    }
    .filter-container {
      margin: 20px 0;
      text-align: center;
    }
    .tag-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .tag {
      padding: 8px 16px;
      border-radius: 20px;
      background: #f0f0f0;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-size: 14px;
      color: #666;
    }
    .tag:hover {
      background: #e0e0e0;
    }
    .tag.active {
      background: #3498db;
      color: white;
    }
    .clear-filter {
      padding: 8px 16px;
      border-radius: 4px;
      background: #e74c3c;
      color: white;
      border: none;
      cursor: pointer;
      margin-top: 10px;
      transition: all 0.3s ease;
    }
    .clear-filter:hover {
      background: #c0392b;
    }
    .table-container {
      overflow-x: auto;
      margin-top: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    @media (max-width: 768px) {
      .tag {
        padding: 6px 12px;
        font-size: 12px;
      }
      .tag-group {
        gap: 6px;
      }
    }
    .search-tips, .filter-tips {
      margin-bottom: 10px;
      color: #666;
      font-size: 14px;
    }
    
    .search-tips p, .filter-tips p {
      margin: 5px 0;
      color: #2c3e50;
    }
    
    .search-tips {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 6px;
      border-left: 4px solid #3498db;
      margin-bottom: 15px;
    }
    
    .search-tips p {
      margin: 8px 0;
      color: #2c3e50;
      line-height: 1.5;
    }
    
    .search-tips p:last-child {
      color: #e74c3c;
      font-weight: 500;
    }
    
    .filter-tips {
      font-size: 13px;
      color: #7f8c8d;
      font-style: italic;
    }
    
    @media (max-width: 768px) {
      .search-tips, .filter-tips {
        font-size: 12px;
        padding: 8px;
      }
      .search-tips p {
        margin: 6px 0;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>ä»£ç æŸ¥è¯¢ç•Œé¢</h1>

  <!-- æœç´¢æ¡† -->
  <div class="search-box">
    <div class="search-tips">
      <p>ğŸ’¡ æç¤ºï¼šç›´æ¥è¾“å…¥å…³é”®è¯æœç´¢ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼ˆå¦‚ï¼šè¾“å…¥"å‰‘"å¯æœç´¢æ‰€æœ‰å¸¦"å‰‘"çš„ç‰©å“ï¼‰</p>
      <p>ğŸ“¢ å¦‚æœéœ€è¦çš„ç‰©å“ä»£ç ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œå¯ä»¥ç§ä¿¡æˆ‘æ·»åŠ </p>
    </div>
    <input type="text" id="searchInput" placeholder="è¯·è¾“å…¥åç§°æˆ–ä»£ç è¿›è¡Œæœç´¢..." onkeyup="searchData()">
  </div>

  <!-- æ·»åŠ æ ‡ç­¾ç­›é€‰åŒºåŸŸ -->
  <div class="filter-container">
    <div class="filter-tips">
      <p>ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾å¯æŒ‰ç±»å‹å’Œåˆ†ç±»ç­›é€‰ï¼Œå¯ä¸æœç´¢æ¡†ç»„åˆä½¿ç”¨</p>
    </div>
    <div class="tag-group" id="typeFilter">
      <!-- ç±»å‹æ ‡ç­¾å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
    </div>
    <div class="tag-group" id="categoryFilter">
      <!-- åˆ†ç±»æ ‡ç­¾å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
    </div>
    <button class="clear-filter" onclick="clearFilters()">æ¸…é™¤ç­›é€‰</button>
  </div>

  <!-- æ•°æ®è¡¨æ ¼ -->
  <div class="table-container">
    <table id="dataTable">
      <thead>
        <tr>
          <th>åç§°</th>
          <th>ç±»å‹</th>
          <th>ä»£ç </th>
          <th>åˆ†ç±»</th>
          <th>ä½œç”¨</th>
          <th>ä»·æ ¼</th>
        </tr>
      </thead>
      <tbody id="dataBody">
        <!-- æ•°æ®è¡Œå°†ä¼šåŠ¨æ€æ’å…¥è¿™é‡Œ -->
      </tbody>
    </table>
  </div>
</div>

<script>
  let jsonData = [];
  let activeFilters = {
    type: null,
    category: null,
    search: ''
  };

  // åŠ è½½æ•°æ®
  fetch('output.json')
          .then(response => response.json())
          .then(data => {
            jsonData = data;
            initializeFilters();
            renderData(jsonData);
          })
          .catch(error => {
            console.error('æ— æ³•åŠ è½½ JSON æ•°æ®:', error);
          });

  // åˆå§‹åŒ–ç­›é€‰æ ‡ç­¾
  function initializeFilters() {
    // è·å–æ‰€æœ‰å”¯ä¸€çš„ç±»å‹å’Œåˆ†ç±»
    const types = [...new Set(jsonData.map(item => item.ç±»å‹))];
    const categories = [...new Set(jsonData.map(item => item.åˆ†ç±»))];

    // æ¸²æŸ“ç±»å‹æ ‡ç­¾
    const typeContainer = document.getElementById('typeFilter');
    types.forEach(type => {
      if (type) { // åªæ·»åŠ éç©ºç±»å‹
        const tag = document.createElement('button');
        tag.className = 'tag';
        tag.textContent = type;
        tag.onclick = () => toggleFilter('type', type);
        typeContainer.appendChild(tag);
      }
    });

    // æ¸²æŸ“åˆ†ç±»æ ‡ç­¾
    const categoryContainer = document.getElementById('categoryFilter');
    categories.forEach(category => {
      if (category) { // åªæ·»åŠ éç©ºåˆ†ç±»
        const tag = document.createElement('button');
        tag.className = 'tag';
        tag.textContent = category;
        tag.onclick = () => toggleFilter('category', category);
        categoryContainer.appendChild(tag);
      }
    });
  }

  // åˆ‡æ¢ç­›é€‰å™¨çŠ¶æ€
  function toggleFilter(filterType, value) {
    const tags = document.querySelectorAll(`.tag`);
    tags.forEach(tag => {
      if (tag.textContent === value) {
        tag.classList.toggle('active');
      }
    });

    if (activeFilters[filterType] === value) {
      activeFilters[filterType] = null;
    } else {
      activeFilters[filterType] = value;
    }

    applyFilters();
  }

  // æ¸…é™¤æ‰€æœ‰ç­›é€‰
  function clearFilters() {
    activeFilters = {
      type: null,
      category: null,
      search: document.getElementById('searchInput').value
    };

    document.querySelectorAll('.tag').forEach(tag => {
      tag.classList.remove('active');
    });

    applyFilters();
  }

  // æœç´¢åŠŸèƒ½
  function searchData() {
    activeFilters.search = document.getElementById('searchInput').value.toLowerCase();
    applyFilters();
  }

  // åº”ç”¨æ‰€æœ‰ç­›é€‰æ¡ä»¶
  function applyFilters() {
    let filteredData = jsonData.filter(item => {
      const matchesType = !activeFilters.type || item.ç±»å‹ === activeFilters.type;
      const matchesCategory = !activeFilters.category || item.åˆ†ç±» === activeFilters.category;
      const matchesSearch = !activeFilters.search || 
        item.åç§°.toLowerCase().includes(activeFilters.search) || 
        item.ä»£ç .includes(activeFilters.search);

      return matchesType && matchesCategory && matchesSearch;
    });

    renderData(filteredData);
  }

  // æ¸²æŸ“æ•°æ®åˆ°è¡¨æ ¼
  function renderData(filteredData) {
    const tableBody = document.getElementById('dataBody');
    tableBody.innerHTML = '';

    filteredData.forEach(item => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${item.åç§°}</td>
        <td>${item.ç±»å‹}</td>
        <td>${item.ä»£ç }</td>
        <td>${item.åˆ†ç±»}</td>
        <td>${item.ä½œç”¨}</td>
        <td>${item.ä»·æ ¼}</td>
      `;
      tableBody.appendChild(row);
    });
  }
</script>

</body>
</html>
